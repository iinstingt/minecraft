DEPTH = 100
TORCH = 10
t = turtle

step = 0
toTorch = TORCH
while step <= DEPTH do
	if t.getFuelLevel()<10 then
		print("Fuel is empty")
		break
	end
	if t.getItemCount(1)<10 and t.getItemCount(2)<10 then
		print("Not enouth items")
		break
	end
	if t.getItemCount(1) and
	t.dig()
	t.forward()
	step = step + 1
	toTorch = toTorch -1
	if toTorch == 0 then 
		if t.getItemCount(2)<2 then
			print("Ended torches")
			break
		end
		toTorch = TORCH
		t.turnLeft()
		t.dig()
		t.select(2)
		t.place()
		t.turnRight()
	end
	t.digUp()
	t.digDown()
	if t.getItemSpace(16)<64 then
		if t.getItemCount(1)<2 then
			print("Ended chests")
			break
		end
		t.select(1)
		t.turnLeft()
		t.turnLeft()
		t.place()
		for i=3, 16 do 
			t.select(i)
			t.drop()
		end
		t.turnLeft()
		t.turnLeft()
		t.select(3)
	end
end